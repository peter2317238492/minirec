# æ™ºèƒ½æ¨èç³»ç»Ÿ (MiniRec)

ä¸€ä¸ªåŸºäº TypeScript å¼€å‘çš„å…¨æ ˆæ™ºèƒ½æ¨èç³»ç»Ÿï¼Œæ”¯æŒæ™¯ç‚¹ã€ç¾é£Ÿã€é…’åº—çš„ä¸ªæ€§åŒ–æ¨èã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨**å¾®æœåŠ¡æ¶æ„**ï¼ŒåŒ…å«ä¸‰ä¸ªä¸»è¦æœåŠ¡ï¼š

```
recommendation-system/
â”œâ”€â”€ frontend/          # React å‰ç«¯åº”ç”¨
â”œâ”€â”€ backend/           # Node.js + Express åç«¯æœåŠ¡  
â”œâ”€â”€ ml-service/        # Python FastAPI æœºå™¨å­¦ä¹ æœåŠ¡
â””â”€â”€ start.bat         # ä¸€é”®å¯åŠ¨è„šæœ¬
```

### æŠ€æœ¯æ ˆæ¦‚è§ˆ

| æœåŠ¡å±‚ | æŠ€æœ¯é€‰å‹ | ç”¨é€” |
|--------|----------|------|
| å‰ç«¯ | React 18 + TypeScript + Tailwind CSS | ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ |
| åç«¯ | Node.js + Express + MongoDB + JWT | RESTful API å’Œä¸šåŠ¡é€»è¾‘ |
| æœºå™¨å­¦ä¹  | Python + FastAPI + Scikit-learn | æ¨èç®—æ³•å’Œæ¨¡å‹ |
| æ•°æ®åº“ | MongoDB | æ•°æ®å­˜å‚¨å’Œç®¡ç† |

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·ç³»ç»Ÿ
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•**ï¼šåŸºäº JWT çš„èº«ä»½è®¤è¯
- **ä¸ªäººåå¥½è®¾ç½®**ï¼šæ”¯æŒç±»åˆ«å’Œæ ‡ç­¾åå¥½é…ç½®
- **è´­ä¹°å†å²è®°å½•**ï¼šè‡ªåŠ¨è®°å½•ç”¨æˆ·è¡Œä¸ºæ•°æ®
- **æµè§ˆå†å²è¿½è¸ª**ï¼šä¸ºæ¨èç®—æ³•æä¾›æ•°æ®æ”¯æŒ

### 2. æ¨èç³»ç»Ÿ
- **ä¸ªæ€§åŒ–æ¨è**ï¼šåŸºäºç”¨æˆ·åå¥½å’Œå†å²è¡Œä¸º
- **å¤šç»´åº¦ç­›é€‰**ï¼šæ”¯æŒç±»åˆ«ã€ä»·æ ¼ã€åœ°åŒºã€æ ‡ç­¾ç­›é€‰
- **å®æ—¶æœç´¢**ï¼šå…¨æ–‡æœç´¢æ”¯æŒåç§°ã€æè¿°ã€æ ‡ç­¾
- **è¯„åˆ†ç³»ç»Ÿ**ï¼š5æ˜Ÿè¯„åˆ†å’Œç”¨æˆ·è¯„è®º

### 3. å†…å®¹ç®¡ç†
- **å¤šåˆ†ç±»æ”¯æŒ**ï¼šæ™¯ç‚¹ã€ç¾é£Ÿã€é…’åº—ä¸‰å¤§ç±»åˆ«
- **ä¸°å¯Œçš„å…ƒæ•°æ®**ï¼šå›¾ç‰‡ã€ä½ç½®ã€æ ‡ç­¾ã€è¯¦ç»†ä¿¡æ¯
- **ç”¨æˆ·è¯„ä»·ç³»ç»Ÿ**ï¼šè¯„åˆ†å’Œè¯„è®ºåŠŸèƒ½
- **æ•°æ®æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒè„šæœ¬æ‰¹é‡æ·»åŠ å†…å®¹

## ğŸ› ï¸ æŠ€æœ¯è¯¦è§£

### å‰ç«¯æ¶æ„ (React + TypeScript)

**æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š**
- React 19.1.1 + TypeScript 4.9.5
- Tailwind CSS 3.4.17ï¼ˆUI æ ·å¼ï¼‰
- Axiosï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰
- React Router DOMï¼ˆè·¯ç”±ç®¡ç†ï¼‰

**ç»„ä»¶ç»“æ„ï¼š**
```typescript
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ SearchBar.tsx      # æœç´¢ç»„ä»¶
â”‚   â””â”€â”€ ImageGallery.tsx   # å›¾ç‰‡å±•ç¤ºç»„ä»¶
â”œâ”€â”€ App.tsx               # ä¸»åº”ç”¨ç»„ä»¶
â””â”€â”€ Home.tsx             # é¦–é¡µç»„ä»¶
```

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯
- ç»„ä»¶åŒ–å¼€å‘ï¼Œä»£ç å¤ç”¨æ€§é«˜
- TypeScript ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- Tailwind CSS å¿«é€Ÿæ ·å¼å¼€å‘

### åç«¯æ¶æ„ (Node.js + Express)

**æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š**
- Node.js + Express 4.21.2
- MongoDB + Mongoose 7.8.7ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰
- JWTï¼ˆJSON Web Tokenï¼‰èº«ä»½è®¤è¯
- bcryptjsï¼ˆå¯†ç åŠ å¯†ï¼‰
- CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰

**API è®¾è®¡ï¼š**
```typescript
// RESTful API ç«¯ç‚¹
GET    /api/items           # è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
GET    /api/items/:id       # è·å–é¡¹ç›®è¯¦æƒ…
POST   /api/items           # åˆ›å»ºé¡¹ç›®ï¼ˆéœ€è®¤è¯ï¼‰
POST   /api/items/:id/reviews  # æ·»åŠ è¯„è®º

POST   /api/users/register  # ç”¨æˆ·æ³¨å†Œ
POST   /api/users/login     # ç”¨æˆ·ç™»å½•
PUT    /api/users/:id/preferences  # æ›´æ–°ç”¨æˆ·åå¥½
POST   /api/users/:id/purchase     # è®°å½•è´­ä¹°

GET    /api/recommendations/:userId  # è·å–ä¸ªæ€§åŒ–æ¨è
```

**æ•°æ®æ¨¡å‹ï¼š**
```typescript
// é¡¹ç›®æ¨¡å‹
interface IItem {
  category: 'attraction' | 'food' | 'hotel';
  name: string;
  description: string;
  images: string[];
  price: number;
  rating: number;
  location: { city: string; address: string; };
  tags: string[];
  reviews: Review[];
}

// ç”¨æˆ·æ¨¡å‹
interface IUser {
  username: string;
  email: string;
  password: string;  // bcrypt åŠ å¯†
  preferences: {
    categories: string[];
    tags: string[];
    priceRange: number[];
  };
  purchaseHistory: Purchase[];
}
```

### æœºå™¨å­¦ä¹ æœåŠ¡ (Python + FastAPI)

**æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š**
- FastAPI 0.104.0ï¼ˆå¼‚æ­¥ Web æ¡†æ¶ï¼‰
- Scikit-learn 1.3.0ï¼ˆæœºå™¨å­¦ä¹ åº“ï¼‰
- NumPy 1.24.3ï¼ˆæ•°å€¼è®¡ç®—ï¼‰
- Pandas 2.0.3ï¼ˆæ•°æ®å¤„ç†ï¼‰

**æ¨èç®—æ³•ï¼š**
```python
class SimpleRecommendationModel:
    def predict(self, user_data, items, top_n=10):
        """åŸºäºå¤šå› å­çš„æ¨èç®—æ³•"""
        for item in items:
            score = 0
            # ç±»åˆ«åŒ¹é…æƒé‡
            if item.category in user_categories:
                score += 3
            # æ ‡ç­¾åŒ¹é…æƒé‡  
            matching_tags = user_tags.intersection(item_tags)
            score += len(matching_tags) * 2
            # è¯„åˆ†æƒé‡
            score += item.rating * 0.5
            # ä»·æ ¼èŒƒå›´åŒ¹é…
            if price_in_range(item.price):
                score += 1
        return top_scored_items
```

**API ç«¯ç‚¹ï¼š**
```python
POST /recommend        # è·å–ä¸ªæ€§åŒ–æ¨è
POST /train           # è®­ç»ƒæ¨èæ¨¡å‹
POST /user-data/import # å¯¼å…¥ç”¨æˆ·æ•°æ®
GET  /health          # å¥åº·æ£€æŸ¥
```

### æ•°æ®åº“è®¾è®¡ (MongoDB)

**é›†åˆç»“æ„ï¼š**
```javascript
// items é›†åˆ
{
  "_id": ObjectId,
  "category": "attraction|food|hotel",
  "name": "é¡¹ç›®åç§°",
  "description": "è¯¦ç»†æè¿°", 
  "images": ["å›¾ç‰‡URL1", "å›¾ç‰‡URL2"],
  "price": 100,
  "rating": 4.5,
  "location": {
    "city": "åŸå¸‚",
    "address": "è¯¦ç»†åœ°å€",
    "coordinates": [ç»åº¦, çº¬åº¦]  // æ”¯æŒåœ°ç†ç´¢å¼•
  },
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "reviews": [
    {
      "userId": "ç”¨æˆ·ID", 
      "userName": "ç”¨æˆ·å",
      "rating": 5,
      "comment": "è¯„è®ºå†…å®¹",
      "date": ISODate
    }
  ],
  "createdAt": ISODate,
  "updatedAt": ISODate
}

// users é›†åˆ  
{
  "_id": ObjectId,
  "username": "ç”¨æˆ·å",
  "email": "é‚®ç®±",
  "password": "åŠ å¯†å¯†ç ",
  "preferences": {
    "categories": ["attraction", "food"],
    "tags": ["æ–‡åŒ–", "å†å²"],
    "priceRange": [0, 500]
  },
  "purchaseHistory": [
    {
      "itemId": "é¡¹ç›®ID",
      "itemName": "é¡¹ç›®åç§°", 
      "category": "ç±»åˆ«",
      "price": 100,
      "purchaseDate": ISODate
    }
  ]
}
```

## ğŸ¯ æ¨èç®—æ³•è¯¦è§£

### æ¨èç­–ç•¥

æœ¬ç³»ç»Ÿé‡‡ç”¨**æ··åˆæ¨èç®—æ³•**ï¼Œç»“åˆå¤šç§æ¨èæ–¹æ³•ï¼š

1. **åŸºäºå†…å®¹çš„è¿‡æ»¤**
   - æ ¹æ®ç”¨æˆ·åå¥½çš„ç±»åˆ«å’Œæ ‡ç­¾è¿›è¡ŒåŒ¹é…
   - æƒé‡ï¼šç±»åˆ«åŒ¹é… +3åˆ†ï¼Œæ ‡ç­¾åŒ¹é…æ¯ä¸ª +2åˆ†

2. **ååŒè¿‡æ»¤**  
   - åˆ†æç›¸ä¼¼ç”¨æˆ·çš„è´­ä¹°å†å²
   - æ¨èç›¸ä¼¼ç”¨æˆ·å–œæ¬¢çš„é¡¹ç›®

3. **åŸºäºè¯„åˆ†çš„æ¨è**
   - é¡¹ç›®è¯„åˆ†ä½œä¸ºè´¨é‡æŒ‡æ ‡ï¼Œè¯„åˆ†è¶Šé«˜æ¨èä¼˜å…ˆçº§è¶Šé«˜
   - æƒé‡ï¼šè¯„åˆ† Ã— 0.5

4. **ä»·æ ¼åŒ¹é…**
   - æ ¹æ®ç”¨æˆ·é¢„ç®—åå¥½ç­›é€‰åˆé€‚ä»·æ ¼åŒºé—´çš„é¡¹ç›®
   - ä»·æ ¼åŒ¹é… +1åˆ†

### æ¨èæµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¯·æ±‚æ¨è] --> B[è·å–ç”¨æˆ·åå¥½]
    B --> C[è·å–ç”¨æˆ·å†å²è¡Œä¸º]
    C --> D[è®¡ç®—é¡¹ç›®åŒ¹é…åˆ†æ•°]
    D --> E[æ’åºå¹¶è¿”å›Top N]
    
    D --> D1[ç±»åˆ«åŒ¹é… +3]
    D --> D2[æ ‡ç­¾åŒ¹é… +2Ã—n]  
    D --> D3[è¯„åˆ†æƒé‡ +0.5Ã—rating]
    D --> D4[ä»·æ ¼åŒ¹é… +1]
```

## ğŸ“± ç”¨æˆ·ç•Œé¢è®¾è®¡

### é¡µé¢ç»“æ„

1. **é¦–é¡µ**ï¼šå±•ç¤ºæ¨èå†…å®¹å’Œåˆ†ç±»æµè§ˆ
2. **è¯¦æƒ…é¡µ**ï¼šé¡¹ç›®è¯¦ç»†ä¿¡æ¯ã€è¯„ä»·ã€è´­ä¹°
3. **ä¸ªäººä¸­å¿ƒ**ï¼šåå¥½è®¾ç½®ã€å†å²è®°å½•
4. **æœç´¢ç»“æœé¡µ**ï¼šæœç´¢å’Œç­›é€‰ç»“æœ

### äº¤äº’ç‰¹æ€§

- **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **å®æ—¶æœç´¢**ï¼šè¾“å…¥å³æœç´¢ï¼Œæ— éœ€ç‚¹å‡»
- **æ— é™æ»šåŠ¨**ï¼šæµç•…çš„å†…å®¹æµè§ˆä½“éªŒ  
- **æ¨¡æ€æ¡†è®¾è®¡**ï¼šç™»å½•ã€è®¾ç½®ç­‰æ“ä½œ
- **æ˜Ÿçº§è¯„åˆ†**ï¼šç›´è§‚çš„è¯„åˆ†æ˜¾ç¤º

## ğŸ” å®‰å…¨è®¾è®¡

### èº«ä»½è®¤è¯
- **JWT Token**ï¼šæ— çŠ¶æ€èº«ä»½éªŒè¯
- **å¯†ç åŠ å¯†**ï¼šbcryptjs åŠ å¯†å­˜å‚¨
- **Token è¿‡æœŸ**ï¼š7å¤©è‡ªåŠ¨è¿‡æœŸæœºåˆ¶

### æ•°æ®å®‰å…¨
- **è¾“å…¥éªŒè¯**ï¼šå‰åç«¯åŒé‡éªŒè¯
- **SQL æ³¨å…¥é˜²æŠ¤**ï¼šMongoDB ODM å‚æ•°åŒ–æŸ¥è¯¢
- **CORS é…ç½®**ï¼šè·¨åŸŸèµ„æºæ§åˆ¶
- **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**ï¼šå¯†ç ç­‰æ•æ„Ÿå­—æ®µä¸è¿”å›ç»™å‰ç«¯

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```bash
# 1. å¯åŠ¨ MongoDB æœåŠ¡
net start MongoDB

# 2. å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£ 5000)
cd backend && npm run dev

# 3. å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£ 3000)  
cd frontend && npm start

# 4. å¯åŠ¨æœºå™¨å­¦ä¹ æœåŠ¡ (ç«¯å£ 8000)
cd ml-service && uvicorn main:app --reload
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®
- **åå‘ä»£ç†**ï¼šNginx è´Ÿè½½å‡è¡¡
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **æ•°æ®åº“**ï¼šMongoDB é›†ç¾¤éƒ¨ç½²
- **ç¼“å­˜**ï¼šRedis ç¼“å­˜çƒ­ç‚¹æ•°æ®
- **ç›‘æ§**ï¼šæ—¥å¿—æ”¶é›†å’Œæ€§èƒ½ç›‘æ§

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**ï¼šReact.lazy æŒ‰éœ€åŠ è½½
- **å›¾ç‰‡ä¼˜åŒ–**ï¼šWebP æ ¼å¼ï¼Œæ‡’åŠ è½½
- **ç¼“å­˜ç­–ç•¥**ï¼šæµè§ˆå™¨ç¼“å­˜å’Œ CDN

### åç«¯ä¼˜åŒ–  
- **æ•°æ®åº“ç´¢å¼•**ï¼šåœ°ç†ä½ç½®ç´¢å¼•ï¼Œå¤åˆç´¢å¼•
- **æŸ¥è¯¢ä¼˜åŒ–**ï¼šåˆ†é¡µæŸ¥è¯¢ï¼Œå­—æ®µæŠ•å½±
- **è¿æ¥æ± **ï¼šMongoDB è¿æ¥æ± ç®¡ç†
- **API é™æµ**ï¼šé˜²æ­¢æ¥å£è¢«æ¶æ„è°ƒç”¨

### æ¨èç®—æ³•ä¼˜åŒ–
- **ç¦»çº¿è®¡ç®—**ï¼šé¢„è®¡ç®—ç”¨æˆ·æ¨èç»“æœ
- **å¢é‡æ›´æ–°**ï¼šå®æ—¶æ›´æ–°ç”¨æˆ·è¡Œä¸ºæ•°æ®
- **ç¼“å­˜çƒ­é—¨æ¨è**ï¼šç¼“å­˜çƒ­é—¨å†…å®¹æ¨è
- **å¼‚æ­¥å¤„ç†**ï¼šæ¨èè®¡ç®—å¼‚æ­¥åŒ–

## ğŸ”§ å¼€å‘å·¥å…·

### ä»£ç è´¨é‡
- **TypeScript**ï¼šç±»å‹å®‰å…¨æ£€æŸ¥
- **ESLint**ï¼šä»£ç è§„èŒƒæ£€æŸ¥  
- **Prettier**ï¼šä»£ç æ ¼å¼åŒ–
- **Jest**ï¼šå•å…ƒæµ‹è¯•æ¡†æ¶

### å¼€å‘æ•ˆç‡
- **Nodemon**ï¼šåç«¯çƒ­é‡è½½
- **React Hot Reload**ï¼šå‰ç«¯çƒ­æ›´æ–°
- **ts-node**ï¼šTypeScript ç›´æ¥æ‰§è¡Œ
- **Postman**ï¼šAPI æµ‹è¯•å·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡
1. **Node.js** >= 16.0.0
2. **Python** >= 3.8
3. **MongoDB** >= 4.4
4. **npm** æˆ– **yarn**

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/peter2317238492/minirec.git
cd recommendation-system

# 2. å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# 3. å®‰è£…å‰ç«¯ä¾èµ–  
cd ../frontend
npm install

# 4. å®‰è£…æœºå™¨å­¦ä¹ æœåŠ¡ä¾èµ–
cd ../ml-service
pip install -r requirements.txt

# 5. å¯åŠ¨æ‰€æœ‰æœåŠ¡
cd ..
start.bat  # Windows ç³»ç»Ÿ
```

### åˆå§‹åŒ–æ•°æ®

```bash
# 1. åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
cd backend
cp .env.example .env

# 2. åˆå§‹åŒ–æµ‹è¯•æ•°æ®
npm run seed

# 3. æ·»åŠ æ›´å¤šæµ‹è¯•é¡¹ç›®ï¼ˆå¯é€‰ï¼‰
npm run add-items
```

## ğŸ”® æœªæ¥è§„åˆ’

### åŠŸèƒ½æ‰©å±•
- **å®æ—¶èŠå¤©**ï¼šç”¨æˆ·å’¨è¯¢å’Œå®¢æœæ”¯æŒ
- **ç¤¾äº¤åŠŸèƒ½**ï¼šç”¨æˆ·å…³æ³¨ã€åˆ†äº«ã€è¯„è®ºäº’åŠ¨
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå›½é™…åŒ– i18n
- **ç§»åŠ¨ç«¯ APP**ï¼šReact Native å¼€å‘

### æŠ€æœ¯ä¼˜åŒ–
- **å¾®æœåŠ¡æ‹†åˆ†**ï¼šæŒ‰ä¸šåŠ¡åŸŸè¿›ä¸€æ­¥æ‹†åˆ†æœåŠ¡
- **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šæ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†
- **å¤§æ•°æ®æ”¯æŒ**ï¼šSpark/Hadoop å¤„ç†æµ·é‡æ•°æ®
- **æ·±åº¦å­¦ä¹ **ï¼šç¥ç»ç½‘ç»œæ¨èç®—æ³•

### æ¨èç®—æ³•å‡çº§
- **æ·±åº¦å­¦ä¹ æ¨¡å‹**ï¼šä½¿ç”¨ TensorFlow/PyTorch
- **å®æ—¶æ¨è**ï¼šæµå¼è®¡ç®—æ¨èç³»ç»Ÿ
- **å¤šè‡‚è€è™æœº**ï¼šåœ¨çº¿å­¦ä¹ å’Œæ¢ç´¢
- **å›¾ç¥ç»ç½‘ç»œ**ï¼šåŸºäºçŸ¥è¯†å›¾è°±çš„æ¨è

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issues å’Œ Pull Requestsï¼

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…ï¼š[peter2317238492](https://github.com/peter2317238492)
- é¡¹ç›®åœ°å€ï¼š[https://github.com/peter2317238492/minirec](https://github.com/peter2317238492/minirec)
